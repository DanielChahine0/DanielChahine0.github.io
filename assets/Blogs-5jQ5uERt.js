import{c as $,r as d,j as e,m as i,A as z,u as P,a as L,b as H,g as T,P as M,N as v,f as S,d as A,F as y}from"./index-D8Zxudoi.js";import{F as B}from"./file-text-yVJou1fk.js";import{C as O}from"./chevron-up-btBh3xxj.js";import{H as F}from"./hash-CQOKQQ3W.js";import{C as R}from"./calendar-ZHKTaPg7.js";import{C as q}from"./clock-BEt6pc_T.js";import{M as _,r as D,a as W,b as U}from"./index-CbhFXnCg.js";const Y=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],C=$("arrow-left",Y);const G=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],E=$("loader-circle",G),J=({content:t,className:r=""})=>{const[a,o]=d.useState([]),[c,n]=d.useState(""),[m,N]=d.useState(!1),[g,h]=d.useState(0);d.useEffect(()=>{if(!t)return;const s=/^(#{1,6})\s+(.+)$/gm,l=[];let p;for(;(p=s.exec(t))!==null;){const u=p[1].length,w=p[2].trim(),j=w.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");l.push({id:j,title:w,level:u})}o(l)},[t]),d.useEffect(()=>{const s=()=>{const l=a.map(b=>document.getElementById(b.id)).filter(Boolean),p=window.scrollY,u=document.documentElement.scrollHeight-window.innerHeight,w=Math.min(p/u*100,100);if(h(w),l.length===0)return;let j=null;const I=window.scrollY+120;for(let b=l.length-1;b>=0;b--){const k=l[b];if(k&&k.offsetTop<=I){j=k.id;break}}j!==c&&n(j||"")};return window.addEventListener("scroll",s,{passive:!0}),s(),()=>window.removeEventListener("scroll",s)},[a,c]);const x=s=>{const l=document.getElementById(s);if(l){const u=l.offsetTop-100;window.scrollTo({top:u,behavior:"smooth"})}},f=s=>s<=2?e.jsx(F,{size:12,className:"text-primary/60 flex-shrink-0"}):e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary/40 flex-shrink-0"});return a.length===0?null:e.jsxs("div",{className:`${r}`,children:[e.jsx("div",{className:"hidden lg:block",children:e.jsx("div",{className:"fixed left-8 top-1/2 -translate-y-1/2 w-72 max-h-[75vh] z-40",children:e.jsxs(i.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.3,duration:.4,ease:"easeOut"},className:"bg-card/90 backdrop-blur-xl rounded-2xl border border-border/40 shadow-2xl shadow-black/10 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-border/30 bg-card/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-1.5 rounded-lg bg-primary/10",children:e.jsx(B,{size:16,className:"text-primary"})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-sm text-foreground",children:"Table of Contents"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[a.length," sections"]})]})]}),e.jsx("div",{className:"relative h-1.5 bg-muted/50 rounded-full overflow-hidden",children:e.jsx(i.div,{className:"absolute inset-y-0 left-0 bg-primary rounded-full",initial:{width:0},animate:{width:`${g}%`},transition:{duration:.3,ease:"easeOut"}})}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Progress"}),e.jsxs("span",{className:"text-xs text-primary font-medium",children:[Math.round(g),"%"]})]})]}),e.jsx("div",{className:"p-3 max-h-96 overflow-y-auto toc-scroll",children:e.jsx("nav",{className:"space-y-1",children:a.map((s,l)=>{const p=c===s.id,u=Math.max(0,s.level-1);return e.jsxs(i.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*l,duration:.3},onClick:()=>x(s.id),className:`
                                                group w-full text-left px-3 py-2.5 rounded-xl transition-all duration-300 text-sm
                                                hover:bg-primary/8 hover:text-primary hover:shadow-sm
                                                ${p?"bg-primary/12 text-primary shadow-sm ring-1 ring-primary/20 font-medium":"text-muted-foreground hover:text-foreground"}
                                            `,style:{paddingLeft:`${.75+u*.8}rem`,fontSize:s.level===1?"0.875rem":s.level===2?"0.8125rem":s.level===3?"0.75rem":"0.6875rem",fontWeight:s.level===1?"600":s.level===2?"500":"400"},children:[e.jsxs("div",{className:"flex items-start gap-2",children:[f(s.level),e.jsx("span",{className:"line-clamp-2 leading-snug group-hover:line-clamp-none",children:s.title})]}),p&&e.jsx(i.div,{layoutId:"activeIndicator",className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-primary rounded-r-full",transition:{type:"spring",stiffness:500,damping:30}})]},s.id)})})})]})})}),e.jsx("div",{className:"lg:hidden fixed top-20 left-4 right-4 z-40",children:e.jsxs(i.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.4,ease:"easeOut"},className:"bg-card/95 backdrop-blur-xl rounded-2xl border border-border/40 shadow-2xl shadow-black/10 overflow-hidden",children:[e.jsxs("button",{onClick:()=>N(!m),className:"w-full flex items-center justify-between p-5 hover:bg-muted/30 transition-all duration-200 group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-1.5 rounded-lg bg-primary/10 group-hover:bg-primary/15 transition-colors",children:e.jsx(B,{size:16,className:"text-primary"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"font-semibold text-sm text-foreground block",children:"Table of Contents"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[a.length," sections â€¢ ",Math.round(g),"% read"]})]})]}),e.jsx(i.div,{animate:{rotate:m?0:180},transition:{duration:.3,ease:"easeInOut"},className:"p-1 rounded-lg hover:bg-primary/10 transition-colors",children:e.jsx(O,{size:16,className:"text-muted-foreground group-hover:text-primary"})})]}),e.jsx("div",{className:"px-5 pb-3",children:e.jsx("div",{className:"relative h-1.5 bg-muted/50 rounded-full overflow-hidden",children:e.jsx(i.div,{className:"absolute inset-y-0 left-0 bg-primary rounded-full",initial:{width:0},animate:{width:`${g}%`},transition:{duration:.3,ease:"easeOut"}})})}),e.jsx(z,{children:!m&&e.jsx(i.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden border-t border-border/30",children:e.jsx("nav",{className:"px-4 py-4 space-y-1 max-h-80 overflow-y-auto toc-scroll",children:a.map((s,l)=>{const p=c===s.id,u=Math.max(0,s.level-1);return e.jsx(i.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.05*l,duration:.2},onClick:()=>{x(s.id),N(!0)},className:`
                                                    group w-full text-left px-3 py-2.5 rounded-xl transition-all duration-300 text-sm
                                                    hover:bg-primary/8 hover:text-primary hover:shadow-sm
                                                    ${p?"bg-primary/12 text-primary shadow-sm ring-1 ring-primary/20 font-medium":"text-muted-foreground hover:text-foreground"}
                                                `,style:{paddingLeft:`${.75+u*.8}rem`,fontSize:s.level===1?"0.875rem":s.level===2?"0.8125rem":s.level===3?"0.75rem":"0.6875rem",fontWeight:s.level===1?"600":s.level===2?"500":"400"},children:e.jsxs("div",{className:"flex items-start gap-2",children:[f(s.level),e.jsx("span",{className:"line-clamp-2 leading-snug",children:s.title})]})},s.id)})})})})]})})]})},K={h1:({children:t,...r})=>{const o=(t?.toString()||"").toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");return e.jsx("h1",{id:o,...r,children:t})},h2:({children:t,...r})=>{const o=(t?.toString()||"").toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");return e.jsx("h2",{id:o,...r,children:t})},h3:({children:t,...r})=>{const o=(t?.toString()||"").toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");return e.jsx("h3",{id:o,...r,children:t})},h4:({children:t,...r})=>{const o=(t?.toString()||"").toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");return e.jsx("h4",{id:o,...r,children:t})},h5:({children:t,...r})=>{const o=(t?.toString()||"").toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");return e.jsx("h5",{id:o,...r,children:t})},h6:({children:t,...r})=>{const o=(t?.toString()||"").toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");return e.jsx("h6",{id:o,...r,children:t})}};function Q({blog:t}){const[r,a]=d.useState(""),[o,c]=d.useState(!0),[n,m]=d.useState(null),N=L();d.useEffect(()=>{const h=async()=>{try{c(!0),m(null);const x=await fetch(`/blogs/${t?.filename}`);if(!x.ok)throw new Error(`Failed to fetch blog: ${x.status}`);const f=await x.text();if(!f.trim())throw new Error("Blog content is empty");a(f)}catch(x){console.error("Error loading blog content:",x),m(`Failed to load blog content: ${x.message}`)}finally{c(!1)}};t?.filename?h():(m("No blog filename provided"),c(!1))},[t?.filename]);const g=()=>{N("/blogs")};return t?o?e.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[e.jsx(v,{}),e.jsx("main",{className:"pt-24 pb-16 px-6",children:e.jsx("div",{className:"container mx-auto max-w-3xl flex items-center justify-center py-20",children:e.jsx(E,{className:"animate-spin text-muted-foreground",size:32})})}),e.jsx(y,{})]}):n?e.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[e.jsx(v,{}),e.jsx("main",{className:"pt-24 pb-16 px-6",children:e.jsxs("div",{className:"container mx-auto max-w-3xl text-center",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:n}),e.jsxs("button",{onClick:g,className:"inline-flex items-center gap-2 hover:opacity-70 transition-opacity",children:[e.jsx(C,{size:16}),"Back to Blogs"]})]})}),e.jsx(y,{})]}):e.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[e.jsx(v,{}),e.jsxs("main",{className:"pt-24 pb-16",children:[e.jsx("div",{className:"border-b border-border mb-8",children:e.jsxs("div",{className:"container mx-auto max-w-3xl px-6 pb-8",children:[e.jsxs(i.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},onClick:g,className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors mb-6",children:[e.jsx(C,{size:16}),"Back to Blogs"]}),e.jsxs(i.header,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-semibold mb-4 leading-tight",children:t.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{size:14}),e.jsx("span",{children:S(t.date)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{size:14}),e.jsx("span",{children:t.readTime})]})]}),t.tags&&e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((h,x)=>e.jsx("span",{className:"text-xs text-muted-foreground",children:h},x))})]})]})}),e.jsx(J,{content:r}),e.jsx("div",{className:"container mx-auto max-w-3xl px-6",children:e.jsx(i.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsx("div",{className:`prose prose-lg max-w-none text-left
                            prose-headings:font-semibold prose-headings:text-foreground
                            prose-h1:text-3xl prose-h1:mb-6 prose-h1:mt-8
                            prose-h2:text-2xl prose-h2:mb-4 prose-h2:mt-8
                            prose-h3:text-xl prose-h3:mb-3 prose-h3:mt-6
                            prose-p:text-foreground prose-p:leading-relaxed prose-p:mb-4
                            prose-a:text-foreground prose-a:underline hover:prose-a:opacity-70
                            prose-strong:text-foreground prose-strong:font-semibold
                            prose-code:text-foreground prose-code:bg-secondary prose-code:px-1.5 prose-code:py-0.5 prose-code:rounded prose-code:text-sm
                            prose-pre:bg-secondary prose-pre:border prose-pre:border-border prose-pre:rounded-lg
                            prose-blockquote:border-l-2 prose-blockquote:border-l-foreground prose-blockquote:pl-4 prose-blockquote:italic prose-blockquote:text-muted-foreground
                            prose-ul:mb-4 prose-ul:list-disc prose-ul:pl-5
                            prose-ol:mb-4 prose-ol:list-decimal prose-ol:pl-5
                            prose-li:text-foreground prose-li:mb-1
                            prose-img:rounded-lg`,children:e.jsx(_,{remarkPlugins:[U],rehypePlugins:[D,W],components:K,children:r})})})})]}),e.jsx(y,{})]}):e.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[e.jsx(v,{}),e.jsx("main",{className:"pt-24 pb-16 px-6",children:e.jsxs("div",{className:"container mx-auto max-w-3xl text-center",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Blog not found"}),e.jsxs("button",{onClick:g,className:"inline-flex items-center gap-2 hover:opacity-70 transition-opacity",children:[e.jsx(C,{size:16}),"Back to Blogs"]})]})}),e.jsx(y,{})]})}const ae=()=>{const{id:t}=P(),r=L(),[a,o]=d.useState(!1),c=[...H].sort((n,m)=>new Date(m.date)-new Date(n.date));if(d.useEffect(()=>{o(!0)},[]),!a)return e.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:e.jsx(E,{className:"animate-spin text-muted-foreground",size:32})});if(t){const n=T(t);return e.jsx(Q,{blog:n})}return e.jsxs(M,{className:"min-h-screen bg-background text-foreground",children:[e.jsx(v,{}),e.jsx("main",{className:"pt-24 pb-16 px-6",children:e.jsxs("div",{className:"container mx-auto max-w-4xl",children:[e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-semibold mb-4",children:"Writing"}),e.jsxs("p",{className:"text-muted-foreground",children:[c.length," articles on development, technology, and learning."]})]}),e.jsx(z,{children:e.jsx("div",{className:"space-y-8",children:c.map((n,m)=>e.jsx(i.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:m*.05},className:"group cursor-pointer",onClick:()=>r(`/blogs/blog/${n.id}`),children:e.jsxs("div",{className:"pb-8 border-b border-border",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:S(n.date)}),e.jsx("h2",{className:"text-xl font-medium mb-2 group-hover:opacity-70 transition-opacity",children:n.title}),e.jsx("p",{className:"text-muted-foreground mb-3 leading-relaxed",children:n.summary}),e.jsxs("span",{className:"inline-flex items-center gap-1 text-sm font-medium",children:["Read more",e.jsx(A,{className:"w-4 h-4 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]})]})},n.id))})}),c.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"No articles yet. Check back soon!"})})]})}),e.jsx(y,{})]})};export{ae as Blogs};
