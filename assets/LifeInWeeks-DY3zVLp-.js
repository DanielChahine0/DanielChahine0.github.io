import{c as N,j as e,m as b,r as p,P as C,N as Y,k,F as E}from"./index-nJKzrIvd.js";import{C as S}from"./calendar-DDT03Uru.js";import{H as F}from"./heart-BSZ2lQJo.js";import{C as P}from"./clock-LZWe-_yw.js";const T=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],R=N("star",T);const $=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],H=N("tree-pine",$);const I=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],z=N("users",I);function B(t){if(!t)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t;const a=new Date(t);if(isNaN(a.getTime()))return"";const s=a.getFullYear(),i=String(a.getMonth()+1).padStart(2,"0"),r=String(a.getDate()).padStart(2,"0");return`${s}-${i}-${r}`}function _({birthDate:t,lifeExpectancy:a,lifeExpectancyWarning:s,onBirthDateChange:i,onLifeExpectancyChange:r,onReset:o,birthDateInputRef:u}){return e.jsxs("div",{className:"bg-card rounded-lg p-6 mb-8",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"birth-date-input",className:"block text-sm font-medium mb-2",title:"Select your date of birth",children:[e.jsx(S,{className:"inline mr-2 text-foreground",size:20}),"Your Birth Date"]}),e.jsx("input",{id:"birth-date-input",type:"date",value:B(t),onChange:i,className:"w-full px-3 py-2 border rounded-md bg-background","aria-label":"Birth date",ref:u,autoFocus:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"life-expectancy-input",className:"block text-sm font-medium mb-2",title:"Average global life expectancy is about 73 years",children:[e.jsx(F,{className:"inline mr-2",size:16}),"Life Expectancy (years)"]}),e.jsx("input",{id:"life-expectancy-input",type:"number",value:a,onChange:r,className:"w-full px-3 py-2 border rounded-md bg-background",min:"1",max:"150","aria-label":"Life expectancy in years",title:"Enter your expected lifespan in years"}),s&&e.jsx("div",{className:"text-yellow-600 text-xs mt-1",role:"alert","aria-live":"polite",children:s})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded text-sm text-gray-700 transition",onClick:o,"aria-label":"Reset inputs",children:"Reset"})})]})}function q({stats:t,formatNumber:a}){return e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"grid md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-card rounded-lg p-4 text-center","aria-label":"Current Age",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",title:"Current Age",children:t.currentAge}),e.jsx("div",{className:"text-sm text-foreground/60",children:"Years Old"})]}),e.jsxs("div",{className:"bg-card rounded-lg p-4 text-center","aria-label":"Weeks Lived",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",title:"Weeks Lived",children:a(t.livedWeeks)}),e.jsx("div",{className:"text-sm text-foreground/60",children:"Weeks Lived"})]}),e.jsxs("div",{className:"bg-card rounded-lg p-4 text-center","aria-label":"Weeks Remaining",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",title:"Weeks Remaining",children:a(t.remainingWeeks)}),e.jsx("div",{className:"text-sm text-foreground/60",children:"Weeks Remaining"})]}),e.jsxs("div",{className:"bg-card rounded-lg p-4 text-center","aria-label":"Life Progress",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",title:"Life Progress",children:[Math.min(100,Math.max(0,t.livedWeeks/t.totalWeeks*100)).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-foreground/60",children:"Life Progress"})]})]})}function V(){return e.jsxs("div",{className:"flex justify-center gap-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded","aria-label":"Weeks Lived"}),e.jsx("span",{className:"text-sm",children:"Weeks Lived"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded","aria-label":"Current Week"}),e.jsx("span",{className:"text-sm",children:"Current Week"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded","aria-label":"Future Weeks"}),e.jsx("span",{className:"text-sm",children:"Future Weeks"})]})]})}const G=t=>{switch(t){case"lived":return"bg-blue-600";case"current":return"bg-yellow-400";case"future":return"bg-gray-300";default:return"bg-gray-300"}};function O({weeks:t,gridColumns:a}){return e.jsxs("div",{className:"bg-card rounded-lg p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 text-center",children:[e.jsx(P,{className:"inline mr-2",size:20}),"Your Life Grid"]}),e.jsx("div",{className:"grid gap-1",style:{gridTemplateColumns:`repeat(${a}, minmax(0, 1fr))`},"aria-label":"Life Grid",children:t.map(s=>e.jsx("div",{className:`w-2 h-2 rounded-sm ${G(s.status)} week-square`,title:`Week ${s.id+1}, Year ${Math.floor(s.id/a)+1}, Status: ${s.status}`,"aria-label":`Week ${s.id+1}, Year ${Math.floor(s.id/a)+1}, Status: ${s.status}`},s.id))}),e.jsxs("div",{className:"mt-4 text-center text-sm text-foreground/60",children:[a===52&&e.jsx(e.Fragment,{children:"Each row represents one year (52 weeks). Hover over squares for details."}),a!==52&&e.jsx(e.Fragment,{children:"Grid columns adjusted for visualization. Hover over squares for details."})]})]})}function K({birthDate:t,lifeExpectancy:a,heartRate:s,breathingRate:i,formatNumber:r}){const o=new Date(t),l=Math.floor((new Date().getTime()-o.getTime())/(1e3*3600*24)),h=Math.floor(l/7),x=(l/(a*365.25)*100).toFixed(1),m=Math.floor(l),g=Math.floor(l/(365.25/4)),n=Math.floor(l*24*60*s),j=Math.floor(l*24*60*i),v=Math.floor(l*8);return e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-8 p-6 bg-card rounded-lg","aria-label":"Life Highlights",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 text-center flex items-center justify-center",children:[e.jsx(R,{className:"mr-2",size:20}),"Life Highlights"]}),e.jsxs("div",{className:"text-foreground/80 space-y-2",children:[e.jsxs("p",{children:["You've lived ",e.jsx("strong",{title:"Weeks Lived",children:r(h)})," weeks, which is ",e.jsxs("strong",{title:"Percent of full life",children:[x,"%"]})," of a full life."]}),e.jsxs("p",{children:["That's ",e.jsx("strong",{title:"Days of experience",children:r(m)})," days of experience and approximately ",e.jsx("strong",{title:"Seasons observed",children:r(g)})," seasons observed."]}),e.jsxs("p",{children:["Your heart has beaten approximately ",e.jsx("strong",{title:"Heart beats",children:r(n)})," times.",e.jsxs("span",{className:"text-xs text-foreground/50 ml-1",children:["(Avg. ",s," bpm)"]})]}),e.jsxs("p",{children:["You've taken around ",e.jsx("strong",{title:"Breaths taken",children:r(j)})," breaths and slept about ",e.jsx("strong",{title:"Hours slept",children:r(v)})," hours.",e.jsxs("span",{className:"text-xs text-foreground/50 ml-1",children:["(Avg. ",i," breaths/min)"]})]})]})]})}function w(t){const a=[{year:1900,month:1,day:1,pop:165e7},{year:1927,month:1,day:1,pop:2e9},{year:1950,month:1,day:1,pop:253e7},{year:1960,month:1,day:1,pop:303e7},{year:1970,month:1,day:1,pop:37e8},{year:1980,month:1,day:1,pop:444e7},{year:1990,month:1,day:1,pop:532e7},{year:2e3,month:1,day:1,pop:614e7},{year:2010,month:1,day:1,pop:692e7},{year:2021,month:1,day:1,pop:779e7},{year:2025,month:7,day:1,pop:81e8}],s=t,i=s.getFullYear()+(s.getMonth()+1)/12+s.getDate()/365.25;for(let x=1;x<a.length;x++){const m=a[x-1],g=a[x],n=m.year+m.month/12+m.day/365.25,j=g.year+g.month/12+g.day/365.25;if(i<=j){const v=(i-n)/(j-n);return Math.round(m.pop+v*(g.pop-m.pop))}}const r=a[a.length-1],o=a[a.length-2],u=r.year+r.month/12+r.day/365.25,l=o.year+o.month/12+o.day/365.25,h=(r.pop-o.pop)/(u-l);return Math.round(r.pop+(i-u)*h)}function U({birthDate:t,lifeExpectancy:a,currentAge:s,formatNumber:i}){const r=new Date(t),o=new Date,u=Math.floor((o.getTime()-r.getTime())/(1e3*3600*24)),l=s,h=w(r),x=w(o),m=Math.round(l/a*8e4),g=Math.floor(u*383014),n=Math.floor(u*167123);return e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},className:"mt-6 p-6 bg-card rounded-lg","aria-label":"Societal Context",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 text-center flex items-center justify-center",children:[e.jsx(z,{className:"mr-2",size:20}),"Societal Context"]}),e.jsxs("div",{className:"text-foreground/80 space-y-2",children:[e.jsxs("p",{children:["During your lifetime, humanity's population has grown from ",e.jsx("strong",{title:"World population at birth",children:i(h)})," to over ",e.jsx("strong",{title:"Current world population",children:i(x)})," people.",e.jsx("span",{className:"text-xs text-foreground/50 ml-1",children:"(Approximate global averages for illustration)"})]}),e.jsxs("p",{children:["The average person will meet around 80,000 people in their lifetime. You've likely already met approximately ",e.jsx("strong",{title:"People met",children:i(m)})," individuals."]}),e.jsxs("p",{children:["Since your birth, humanity has collectively experienced approximately ",e.jsx("strong",{title:"Births worldwide",children:i(g)})," births and ",e.jsx("strong",{title:"Deaths worldwide",children:i(n)})," deaths.",e.jsx("span",{className:"text-xs text-foreground/50 ml-1",children:"(Approximate global averages for illustration)"})]})]})]})}function Z({birthDate:t,currentAge:a,formatNumber:s}){const i=new Date(t),o=Math.floor((new Date().getTime()-i.getTime())/(1e3*3600*24)),u=a,l=Math.floor(o/29.53),h=Math.floor(u),x=(u/3e3*100).toFixed(2);return e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},className:"mt-6 p-6 bg-card rounded-lg","aria-label":"Natural World",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 text-center flex items-center justify-center",children:[e.jsx(H,{className:"mr-2",size:20}),"Natural World"]}),e.jsxs("div",{className:"text-foreground/80 space-y-2",children:[e.jsxs("p",{children:["You've experienced approximately ",e.jsx("strong",{title:"Lunar cycles",children:s(l)})," lunar cycles and ",e.jsx("strong",{title:"Trips around Sun",children:s(h)})," trips around the Sun."]}),e.jsxs("p",{children:["A giant sequoia tree can live over 3,000 years. Your current age is ",e.jsxs("strong",{title:"Percent of sequoia lifespan",children:[x,"%"]})," of its potential lifespan."]}),e.jsx("p",{children:"During your lifetime, your body has replaced most of its cells several times. You are not made of the same atoms you were born with."})]})]})}function te(){const[t,a]=p.useState(""),[s,i]=p.useState(80),[r,o]=p.useState(""),u=70,l=16,h=p.useRef(null),x=p.useCallback(d=>{const c=Number(d.target.value);Number.isFinite(c)&&c>0&&c<=150&&i(c)},[]),m=p.useCallback(d=>{a(d.target.value)},[]),g=p.useCallback(()=>{a(""),i(80),h.current&&h.current.focus()},[]),n=p.useMemo(()=>{if(!t)return{totalWeeks:0,livedWeeks:0,remainingWeeks:0,currentAge:0,weekProgress:0,error:void 0};const d=new Date(t),c=new Date,f=365.25/7,y=Math.round(s*f);if(d>c)return{totalWeeks:y,livedWeeks:0,remainingWeeks:y,currentAge:0,weekProgress:0,error:"Birth date cannot be in the future"};const M=c.getTime()-d.getTime(),L=Math.floor(M/(1e3*3600*24)),W=Math.min(Math.floor(L/7),y),D=c.getFullYear()-d.getFullYear()-(c.getMonth()<d.getMonth()||c.getMonth()===d.getMonth()&&c.getDate()<d.getDate()?1:0),A=Math.max(0,y-W);return{totalWeeks:y,livedWeeks:W,remainingWeeks:A,currentAge:D,error:void 0}},[t,s]);p.useEffect(()=>{if(!t){r&&o("");return}if(new Date(t)>new Date){r&&o("");return}s<n.currentAge?r||o("Warning: Life expectancy is less than your current age."):r&&o("")},[t,s,n.currentAge,r]);const j=p.useMemo(()=>n.totalWeeks?n.totalWeeks<52?n.totalWeeks:n.totalWeeks>1040?104:52:1,[n.totalWeeks]),v=p.useMemo(()=>{if(!t||n.totalWeeks===0)return[];const d=365.25/7,c=[];for(let f=0;f<n.totalWeeks;f++){let y="future";f<n.livedWeeks?y="lived":f===Math.min(n.livedWeeks,n.totalWeeks-1)&&(y="current"),c.push({id:f,status:y,year:Math.floor(f/d),weekInYear:f%Math.round(d)})}return c},[t,n.livedWeeks,n.totalWeeks]);return e.jsx(C,{children:e.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[e.jsx(Y,{}),e.jsx("main",{className:"mt-15 flex-1 container mx-auto px-4 py-8",children:e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-6xl mx-auto",children:[e.jsx("h1",{className:"text-4xl font-bold mb-8 text-center",children:"Your Life in Weeks"}),e.jsx("div",{className:"text-center mb-8 text-foreground/80",children:e.jsx("p",{children:"Each square represents one week of your life. This visualization helps put time into perspective."})}),e.jsx(_,{birthDate:t,lifeExpectancy:s,lifeExpectancyWarning:r,onBirthDateChange:m,onLifeExpectancyChange:x,onReset:g,birthDateInputRef:h}),t&&!n.error&&e.jsxs(e.Fragment,{children:[e.jsx(q,{stats:n,formatNumber:k}),e.jsx(V,{}),e.jsx(O,{weeks:v,gridColumns:j}),e.jsx(K,{birthDate:t,lifeExpectancy:s,heartRate:u,breathingRate:l,formatNumber:k}),e.jsx(U,{birthDate:t,lifeExpectancy:s,currentAge:n.currentAge,formatNumber:k}),e.jsx(Z,{birthDate:t,currentAge:n.currentAge,formatNumber:k})]}),t&&n.error&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-red-600",children:n.error})}),!t&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-foreground/60",children:"Enter your birth date above to visualize your life in weeks."})})]})}),e.jsx(E,{})]})})}export{te as default};
